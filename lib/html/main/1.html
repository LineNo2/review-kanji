<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1">
    <script>
        function showAnswer(id) {
            if (document.getElementById(id).style.opacity == "1") {
                document.getElementById(id).style.opacity = 0;
            } else {
                document.getElementById(id).style.opacity = 1;
            }
        }
    </script>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    </script>
    <script type="text/javascript">
        google.charts.load('current', { packages: ['corechart', 'bar'] });
        google.charts.setOnLoadCallback(drawStacked);

        function drawStacked() {
            var data = new google.visualization.DataTable();
            data.addColumn('string', '部分');
            data.addColumn('number', '正答');
            data.addColumn('number', '誤答');

            data.addRows([${chart}]);

            var options = {
                title: '暗記現況',
                isStacked: true,
                backgroundColor: '#1a1a1f',
                legendTextStyle: { color: 'white' },
                titleTextStyle: { color: 'white' },
                hAxis: {
                    textStyle: { color: 'white' }
                },
                vAxis: {
                    ticks: [0, 30, 40, 45, 50, 55],
                    textStyle: { color: 'white' }
                },
                colors: ['#3700b3', '#BB86FC']
            };

            var chart = new google.visualization.ColumnChart(document.getElementById('test_result'));
            chart.draw(data, options);
        }
    </script>
    <style>
        body {
            background-color: #1a1a1f;
        }

        a {
            text-decoration: none;
            color: white;
        }

        a:visited {
            color: rgb(48, 48, 51);
            text-decoration: none;
        }

        #totalboard {
            margin: auto;
            text-align: center;
            margin-top: 5vh;
            margin-bottom: 5vh;
            padding-top: 1vh;
            padding-bottom: 1vh;
            width: 30vw;
            border-radius: 8px;
            background-color: #111114;
            font-size: 3vw;
            color: white;
        }

        .dark_button {
            box-shadow: 5px 5px 5px 5px rgba(0, 0, 0, 0.3);
            background-color: #111114;
            color: white;
            padding: 16px 32px;
            text-decoration: none;
            margin: none;
            cursor: pointer;
            border-collapse: collapse;
            border-width: 1px;
            border-radius: 8px;
            border-color: transparent;
        }

        .dark_date {
            color: #787878;
            white-space: nowrap;
        }

        .dark_table {
            width: 80vw;
            box-shadow: 5px 5px 5px 5px rgba(0, 0, 0, 0.3);
            font-size: 5vw;
            margin: auto;
            text-align: center;
            border-width: 1px;
            border-radius: 8px;
            border-collapse: collapse;
        }

        #dark_top_button {
            border-radius: 50%;
            position: fixed;
            right: 5vw;
            bottom: 10vh;
            background-color: #111114;
            color: white;
            height: 10vw;
            width: 10vw;
            font-size: 3vw;
            box-shadow: 5px 5px 5px 5px rgba(0, 0, 0, 0.3);
            z-index: 2;
            border-width: 1;
        }



        #table_${title}>a,
        /*정보: 이거 틀린게 아니라 literal string임*/
        a:hover,
        .dark_button:hover {
            animation: color-change 1.5s infinite;
        }

        @keyframes color-change {
            0% {
                color: white;
            }

            50% {
                color: #1a1a1f;
            }

            100% {
                color: white;
            }
        }

        @keyframes opacity-on {
            0% {
                opacity: 0;
            }

            100% {
                opacity: 1;
            }
        }

        .hovering {
            text-align: center;
            cursor: pointer;
            font-size: 3vw;
        }

        .visible {
            display: inline-block;
            animation: opacity-on 1s;
        }

        .unvisible {
            display: none;
        }

        #test_button {
            font-size: 4vw;
            width: 35vw;
            margin-right: 5vw;
        }

        #reset_button {
            font-size: 4vw;
            width: 40vw;
        }
        #get_button{
            font-size:4vw;
            width:35vw;
        }
        #update_button{
            font-size:4vw;
            width:35vw;
        }
        #delete_button{
            font-size: 4vw;
            width:80vw;
            margin-top:3vh;
            background-color:#ff2424;
        }

        @media (min-width: 768px) {
            .dark_table {
                width: 60vw;
            }

            #dark_title {
                font-size: 15vw;
            }

            #test_button {
                margin-right: 5vw;
                width: 25vw;
            }
            #reset_button {
                width: 30vw;
            }
            #get_button{
                width: 25vw;
            }
            #update_button{
                width: 25vw;
            }
            #delete_button{ 
                width:60vw;
            }

        }

        @media (min-width: 1023px) {
            .dark_table {
                width: 50vw;
            }

            #dark_title {
                font-size: 10vw;
            }
            #test_button {
                width: 20vw;
            }
            #reset_button {
                width: 25vw;
            }
            #get_button {
                width: 20vw;
            }

            #update_button {
                width: 20vw;
            }
            #delete_button{ 
                width:50vw;
            }
        }



        ::-moz-selection {
            background-color: white;
            color: black
        }

        ::selection {
            background-color: white;
            color: black;
        }

        ::-webkit-scrollbar {
            width: 2vw;
        }

        ::-webkit-scrollbar-track {
            background: white;
        }

        ::-webkit-scrollbar-thumb {
            background: #888;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
    </style>
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1">
    <script>window.onscroll = function () { TopButton() }; function TopButton() { window.onscroll = function (ev) { if (window.scrollY > 10) { document.getElementById('dark_top_button').className = "visible"; } else { document.getElementById('dark_top_button').className = "unvisible"; } }; }</script>
    <script>function resetCheck() { if (confirm('이 작업은 되돌릴 수 없습니다. 계속 하시겠습니까?')) location.href = '/reset?id=${title}'; }</script>
    <script>function deleteCheck() { location.href = '/delete?id=${title}&pwcode='+prompt('管理者 秘密番號 入力','秘密番號'); }</script>
    <script>function getCheck() {location.href = '/get?fastmode='+confirm("收集 with FASTMODE?");} </script>

    <title>漢字勉強 - ${title}</title>
</head>

<body>
    <button id="dark_top_button" class="unvisible" onclick="window.scroll({top: 0,behavior: 'smooth'});;">TOP</button>
    ${table}
    ${body}
    <div style="text-align:center;margin:3vh 2vw 3vh 2vw;">
        <a href="/update">
            <input class="dark_button" style="margin-right:10vw;" type="submit" value="更新" id="update_button">
            </a>
        <input type="submit" class="dark_button" value="收集" id="get_button" onclick="getCheck();">
    <div id="test_result" style="text-align:center;margin:auto; width: 80vw; height: 50vh"></div>
</body>